{"ast":null,"code":"var _jsxFileName = \"/Users/christopherlim/Downloads/CSE183_Assignments/assignment-8/frontend/src/MenuAppBar.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Menu from '@material-ui/core/Menu';\nimport ArrowDropDownCircleIcon from '@material-ui/icons/ArrowDropDownCircle';\n/**\n * @param {*} setWorkspaceList\n * @param {*} setWorkspace\n */\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst fetchWorkspace = (setWorkspaceList, setWorkspace) => {\n  const item = localStorage.getItem('user');\n\n  if (!item) {\n    return;\n  }\n\n  const user = JSON.parse(item);\n  const bearerToken = user ? user.accessToken : '';\n  fetch('/v0/workspace', {\n    method: 'get',\n    headers: new Headers({\n      'Authorization': `Bearer ${bearerToken}`,\n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  }).then(response => {\n    if (!response.ok) {\n      throw response;\n    }\n\n    return response.json();\n  }).then(arr => {\n    setWorkspaceList(arr);\n    setWorkspace(arr[0].name);\n  }).catch(error => {\n    console.log(error);\n    setWorkspaceList([]);\n    setWorkspace('');\n  });\n};\n/**\n * @return {*}\n */\n\n\nfunction MenuAppBar() {\n  _s();\n\n  const classes = useStyles();\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const {\n    value,\n    value2\n  } = React.useContext(WorkspaceContext);\n  const [workspaceList, setWorkspaceList] = value;\n  const [workspace, setWorkspace] = value2;\n  React.useEffect(() => {\n    fetchWorkspace(setWorkspaceList, setWorkspace);\n  }, [setWorkspaceList, setWorkspace]);\n\n  const handleMenu = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const setNewWorkspace = name => {\n    setWorkspace(name);\n    setAnchorEl(null);\n  };\n\n  const workspaceMenu = () => {\n    const arr = [];\n\n    for (let i = 0; i < workspaceList.length; i++) {\n      const name = workspaceList[i]['name'];\n\n      const jsx = /*#__PURE__*/_jsxDEV(MenuItem, {\n        onClick: () => setNewWorkspace(name),\n        children: name\n      }, name, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this);\n\n      arr.push(jsx);\n    }\n\n    return arr;\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(AppBar, {\n      className: classes.appBar,\n      children: /*#__PURE__*/_jsxDEV(Toolbar, {\n        className: classes.toolbar,\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          className: classes.title,\n          noWrap: true,\n          children: workspace\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ArrowDropDownCircleIcon, {\n          className: classes.menuButton,\n          onClick: handleMenu,\n          children: /*#__PURE__*/_jsxDEV(AccountCircle, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Menu, {\n          anchorEl: anchorEl,\n          keepMounted: true,\n          open: Boolean(anchorEl),\n          onClose: handleClose,\n          children: workspaceMenu()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 7\n  }, this);\n}\n\n_s(MenuAppBar, \"bFu6ya4jdOe/gbpEke/r417YD4U=\", true);\n\n_c = MenuAppBar;\nexport default MenuAppBar;\n\nvar _c;\n\n$RefreshReg$(_c, \"MenuAppBar\");","map":{"version":3,"sources":["/Users/christopherlim/Downloads/CSE183_Assignments/assignment-8/frontend/src/MenuAppBar.js"],"names":["React","AppBar","Toolbar","Typography","AccountCircle","MenuItem","Menu","ArrowDropDownCircleIcon","fetchWorkspace","setWorkspaceList","setWorkspace","item","localStorage","getItem","user","JSON","parse","bearerToken","accessToken","fetch","method","headers","Headers","then","response","ok","json","arr","name","catch","error","console","log","MenuAppBar","classes","useStyles","anchorEl","setAnchorEl","useState","value","value2","useContext","WorkspaceContext","workspaceList","workspace","useEffect","handleMenu","event","currentTarget","handleClose","setNewWorkspace","workspaceMenu","i","length","jsx","push","appBar","toolbar","title","menuButton","Boolean"],"mappings":"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","sourcesContent":["import React from 'react';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Menu from '@material-ui/core/Menu';\nimport ArrowDropDownCircleIcon from '@material-ui/icons/ArrowDropDownCircle';\n\n/**\n * @param {*} setWorkspaceList\n * @param {*} setWorkspace\n */\n const fetchWorkspace = (setWorkspaceList, setWorkspace) => {\n    const item = localStorage.getItem('user');\n    if (!item) {\n      return;\n    }\n    const user = JSON.parse(item);\n    const bearerToken = user ? user.accessToken : '';\n    fetch('/v0/workspace', {\n      method: 'get',\n      headers: new Headers({\n        'Authorization': `Bearer ${bearerToken}`,\n        'Content-Type': 'application/x-www-form-urlencoded',\n      }),\n    })\n      .then((response) => {\n        if (!response.ok) {\n          throw response;\n        }\n        return response.json();\n      })\n      .then((arr) => {\n        setWorkspaceList(arr);\n        setWorkspace(arr[0].name);\n      })\n      .catch((error) => {\n        console.log(error);\n        setWorkspaceList([]);\n        setWorkspace('');\n      });\n  };\n\n/**\n * @return {*}\n */\n function MenuAppBar() {\n  const classes = useStyles();\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  \n  const {value, value2} = React.useContext(WorkspaceContext);\n  const [workspaceList, setWorkspaceList] = value;\n  const [workspace, setWorkspace] = value2;\n  \n  React.useEffect(() => {\n    fetchWorkspace(setWorkspaceList, setWorkspace);\n    }, [setWorkspaceList, setWorkspace]);\n  \n    const handleMenu = (event) => {\n      setAnchorEl(event.currentTarget);\n    };\n  \n    const handleClose = () => {\n      setAnchorEl(null);\n    };\n  \n    const setNewWorkspace = (name) => {\n      setWorkspace(name);\n      setAnchorEl(null);\n    };\n  \n    const workspaceMenu = () => {\n      const arr = [];\n      for (let i = 0; i < workspaceList.length; i++) {\n        const name = workspaceList[i]['name'];\n        const jsx =\n          <MenuItem\n            key={name}\n            onClick={() => setNewWorkspace(name)}\n          >\n            {name}\n          </MenuItem>;\n        arr.push(jsx);\n      }\n      return arr;\n    };\n  \n    return (\n      <div>\n        <AppBar\n          className={classes.appBar}\n        >\n          <Toolbar className={classes.toolbar}>\n            <Typography variant=\"h6\" className={classes.title} noWrap>\n              {workspace}\n            </Typography>\n            <ArrowDropDownCircleIcon\n              className={classes.menuButton}\n              onClick={handleMenu}\n            >\n              <AccountCircle/>\n            </ArrowDropDownCircleIcon>\n            <Menu\n              anchorEl={anchorEl}\n              keepMounted\n              open={Boolean(anchorEl)}\n              onClose={handleClose}\n            >\n              {workspaceMenu()}\n            </Menu>\n          </Toolbar>\n        </AppBar>\n      </div>\n    );\n  }\n\nexport default MenuAppBar;"]},"metadata":{},"sourceType":"module"}